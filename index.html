<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --mc: #ffd700; --sh: rgba(255, 215, 0, 0.4); --bg-menu: #0f0f0f; }
        * { -webkit-tap-highlight-color: transparent; outline: none; box-sizing: border-box; }
        body { background: #000; color: var(--mc); text-align: center; font-family: 'Segoe UI', sans-serif; margin: 0; overflow: hidden; height: 100vh; }
        
        /* –ß–∞—Å—Ç–∏—Ü—ã */
        .particle { position: absolute; top: -20px; user-select: none; z-index: -1; animation: fall linear infinite; font-size: 22px; }
        @keyframes fall { to { transform: translateY(105vh) rotate(360deg); } }

        /* –ó–∞–≥—Ä—É–∑–∫–∞ */
        #loading-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; display: flex; justify-content: center; align-items: center; z-index: 10000; transition: 0.8s; }
        .loader-box { border: 3px solid var(--mc); padding: 30px; border-radius: 15px; box-shadow: 0 0 30px var(--sh); animation: pulse 2s infinite; font-weight: 900; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

        .header { position: fixed; top: 0; width: 100%; height: 60px; display: flex; justify-content: space-between; align-items: center; padding: 0 15px; z-index: 100; background: rgba(0,0,0,0.8); }
        .menu-btn { font-size: 30px; cursor: pointer; }

        /* –õ–û–ë–ë–ò (–§–∏–∫—Å –±–∞–≥–∞ —Å–æ —Å–∫—Ä–∏–Ω–∞ 16260) */
        #lobby { height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 20px; transition: 0.5s; }
        .game-card { width: 85%; background: #111; border: 2px solid var(--mc); border-radius: 20px; padding: 25px; cursor: pointer; box-shadow: 0 0 15px var(--sh); transition: 0.3s; }
        .game-card:active { transform: scale(0.95); }

        /* –≠–∫—Ä–∞–Ω—ã –∏–≥—Ä */
        .screen { display: none; height: 100vh; flex-direction: column; justify-content: center; align-items: center; padding-top: 60px; }
        .back-btn { position: absolute; top: 70px; left: 20px; background: none; border: 1px solid var(--mc); color: var(--mc); padding: 8px 15px; border-radius: 10px; font-size: 12px; }

        /* –ë–ê–ù–ö–û–ú–ê–¢ */
        .slot-machine { background: #050505; border: 4px solid var(--mc); border-radius: 40px; padding: 30px; box-shadow: 0 0 50px var(--sh); }
        .slots { font-size: 60px; margin-bottom: 20px; height: 80px; }

        /* –ö–û–õ–ï–°–û (–ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –∫—Ä—É—á–µ–Ω–∏–µ) */
        .wheel-container { position: relative; width: 280px; height: 280px; margin-bottom: 20px; }
        .wheel-circle { width: 100%; height: 100%; border: 8px solid var(--mc); border-radius: 50%; position: relative; transition: transform 4s cubic-bezier(0.15, 0, 0.15, 1); background: #111; display: flex; align-items: center; justify-content: center; overflow: hidden; box-shadow: 0 0 30px var(--sh); }
        .wheel-item { position: absolute; width: 100%; text-align: center; top: 15px; transform-origin: 50% 125px; font-weight: 900; font-size: 20px; }
        .pointer { position: absolute; top: -30px; left: 50%; transform: translateX(-50%); color: #ff3333; font-size: 45px; z-index: 10; filter: drop-shadow(0 0 5px red); }

        .btn-play { background: var(--mc); color: #000; border: none; padding: 18px 60px; font-size: 22px; font-weight: 900; border-radius: 20px; cursor: pointer; margin-top: 20px; width: 200px; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        
        #msg { position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%); background: var(--mc); color: #000; padding: 15px 30px; border-radius: 40px; font-weight: 900; display: none; z-index: 5000; box-shadow: 0 0 20px #000; }

        /* –ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é */
        .side-panel { position: fixed; top: 0; left: -300px; width: 280px; height: 100%; background: var(--bg-menu); z-index: 200; transition: 0.4s; padding: 20px; border-right: 2px solid var(--mc); }
        .side-panel.open { left: 0; }
        .menu-item { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 12px; margin-bottom: 10px; font-weight: bold; border: 1px solid rgba(255,255,255,0.1); }
    </style>
</head>
<body>
    <div id="loading-screen"><div class="loader-box">GOLDEN BOT</div></div>
    <div id="msg"></div>

    <div class="header">
        <div class="menu-btn" onclick="toggleM()">‚ò∞</div>
        <div style="font-size: 22px; font-weight: 900;" onclick="adm()">üí∞ <span id="bal">10.00</span></div>
        <div style="width: 30px;"></div>
    </div>

    <div id="menu" class="side-panel">
        <h2 style="margin-top:40px;">–ü–†–û–§–ò–õ–¨</h2>
        <div class="menu-item" id="user-n">–ò–≥—Ä–æ–∫</div>
        <div class="menu-item" onclick="setT('#ffd700')">üü° –ó–û–õ–û–¢–û–ô</div>
        <div class="menu-item" onclick="setT('#ff3333')">üî¥ –ö–†–ê–°–ù–´–ô</div>
        <div class="menu-item" onclick="setT('#22ff22')">üü¢ –ó–ï–õ–ï–ù–´–ô</div>
        <button onclick="toggleM()" class="btn-play" style="width:100%; margin-top:20px; font-size:16px; padding:15px;">–ó–ê–ö–†–´–¢–¨</button>
    </div>

    <div id="lobby">
        <h1 style="letter-spacing: 3px; font-size: 28px;">–í–´–ë–ï–†–ò–¢–ï –ò–ì–†–£</h1>
        <div class="game-card" onclick="go('slot')">
            <div style="font-size: 50px;">üé∞</div>
            <h2>–ë–ê–ù–ö–û–ú–ê–¢</h2>
            <p style="opacity: 0.5;">–£–¥–∞—á–Ω—ã–µ —Å–ª–æ—Ç—ã</p>
        </div>
        <div class="game-card" onclick="go('wheel')">
            <div style="font-size: 50px;">üé°</div>
            <h2>–ö–û–õ–ï–°–û</h2>
            <p style="opacity: 0.5;">–®–∞–Ω—Å x2 (20%)</p>
        </div>
    </div>

    <div id="scr-slot" class="screen">
        <button class="back-btn" onclick="goLobby()">‚Üê –í –õ–û–ë–ë–ò</button>
        <div class="slot-machine">
            <div class="slots" id="slot-res">üé∞üé∞üé∞</div>
            <button class="btn-play" onclick="playSlot()">–ö–†–£–¢–ò–¢–¨ (2)</button>
        </div>
    </div>

    <div id="scr-wheel" class="screen">
        <button class="back-btn" onclick="goLobby()">‚Üê –í –õ–û–ë–ë–ò</button>
        <div class="wheel-container">
            <div class="pointer">‚ñº</div>
            <div id="wheel-obj" class="wheel-circle">
                <div class="wheel-item" style="transform: rotate(0deg);">x2</div>
                <div class="wheel-item" style="transform: rotate(72deg);">–ü–£–°–¢–û</div>
                <div class="wheel-item" style="transform: rotate(144deg);">–ü–£–°–¢–û</div>
                <div class="wheel-item" style="transform: rotate(216deg);">–ü–£–°–¢–û</div>
                <div class="wheel-item" style="transform: rotate(288deg);">–ü–£–°–¢–û</div>
            </div>
        </div>
        <button class="btn-play" id="wheel-btn" onclick="playWheel()">–ò–ì–†–ê–¢–¨ (5)</button>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        let bal = localStorage.getItem('gb_bal') ? parseFloat(localStorage.getItem('gb_bal')) : 10.00;
        let aC = 0;

        function update() { document.getElementById('bal').innerText = bal.toFixed(2); localStorage.setItem('gb_bal', bal); }
        function msg(t) { let m = document.getElementById('msg'); m.innerText = t; m.style.display = 'block'; setTimeout(()=>m.style.display='none', 2000); }

        window.onload = () => { 
            setTimeout(() => document.getElementById('loading-screen').style.opacity='0', 2000); 
            setTimeout(() => document.getElementById('loading-screen').style.display='none', 2800); 
            document.getElementById('user-n').innerText = tg.initDataUnsafe.user?.first_name || "–ò–≥—Ä–æ–∫";
        };

        function go(s) { document.getElementById('lobby').style.display='none'; document.getElementById('scr-'+s).style.display='flex'; }
        function goLobby() { document.querySelectorAll('.screen').forEach(s=>s.style.display='none'); document.getElementById('lobby').style.display='flex'; }
        function toggleM() { document.getElementById('menu').classList.toggle('open'); }
        function setT(c) { document.documentElement.style.setProperty('--mc', c); }
        function adm() { aC++; if(aC>=5) { bal += 500; update(); msg("–ê–î–ú–ò–ù +500!"); aC=0; } }

        // –ë–ê–ù–ö–û–ú–ê–¢
        function playSlot() {
            if(bal < 2) return msg("–ú–ê–õ–û –î–ï–ù–ï–ì");
            bal -= 2; update();
            let i = 0; const s = ['üíé','üí∞','7Ô∏è‚É£','üçí','üçÄ'];
            const t = setInterval(() => {
                document.getElementById('slot-res').innerText = [s[Math.floor(Math.random()*5)], s[Math.floor(Math.random()*5)], s[Math.floor(Math.random()*5)]].join('');
                if(++i >= 12) {
                    clearInterval(t);
                    if(Math.random() < 0.15) { bal += 15; msg("–í–´–ò–ì–†–´–® 15!"); }
                    update();
                }
            }, 100);
        }

        // –ö–û–õ–ï–°–û (–ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –∫—Ä—É—á–µ–Ω–∏–µ 80/20)
        function playWheel() {
            if(bal < 5) return msg("–ú–ê–õ–û –î–ï–ù–ï–ì");
            let btn = document.getElementById('wheel-btn');
            if(btn.disabled) return;
            
            bal -= 5; update();
            btn.disabled = true;

            let w = document.getElementById('wheel-obj');
            let isWin = Math.random() < 0.20; // 20% —à–∞–Ω—Å
            // 0 –≥—Ä–∞–¥—É—Å–æ–≤ - —ç—Ç–æ x2, –æ—Å—Ç–∞–ª—å–Ω—ã–µ - –ø—É—Å—Ç–æ
            let baseDeg = 3600; // 10 –ø–æ–ª–Ω—ã—Ö –∫—Ä—É–≥–æ–≤
            let finalDeg = isWin ? baseDeg : (baseDeg + 72 + Math.floor(Math.random()*4)*72);
            
            w.style.transform = `rotate(${finalDeg}deg)`;

            setTimeout(() => {
                w.style.transition = 'none';
                w.style.transform = `rotate(${finalDeg % 360}deg)`;
                setTimeout(() => w.style.transition = 'transform 4s cubic-bezier(0.15, 0, 0.15, 1)', 50);
                
                if(isWin) { bal += 10; msg("–ü–û–ë–ï–î–ê x2 (10 UAH)!"); }
                else { msg("–ü–£–°–¢–û..."); }
                update();
                btn.disabled = false;
            }, 4100);
        }

        // –ß–∞—Å—Ç–∏—Ü—ã
        setInterval(() => {
            const p = document.createElement('div'); p.className = 'particle'; p.innerText = 'üí∞';
            p.style.left = Math.random()*100+'vw'; p.style.animationDuration = '4s';
            document.body.appendChild(p); setTimeout(()=>p.remove(), 4000);
        }, 700);

        update(); tg.expand();
    </script>
</body>
</html>
