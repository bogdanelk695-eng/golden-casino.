<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --mc: #ffd700; --sh: rgba(255, 215, 0, 0.4); --bg-menu: #0f0f0f; }
        * { -webkit-tap-highlight-color: transparent; outline: none; box-sizing: border-box; }
        body { background: #000; color: var(--mc); text-align: center; font-family: 'Segoe UI', sans-serif; margin: 0; overflow-x: hidden; height: 100vh; }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–∞—é—â–∏—Ö –¥–µ–Ω–µ–≥ */
        .particle { position: absolute; top: -20px; user-select: none; z-index: -1; animation: fall linear infinite; font-size: 22px; }
        @keyframes fall { to { transform: translateY(105vh) rotate(360deg); } }

        /* –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω */
        #loading-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; display: flex; justify-content: center; align-items: center; z-index: 10000; transition: 0.8s; }
        .loader-box { border: 3px solid var(--mc); padding: 30px; border-radius: 15px; box-shadow: 0 0 30px var(--sh); animation: pulse 2s infinite; font-weight: 900; letter-spacing: 5px; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        #loading-screen.fade-out { opacity: 0; pointer-events: none; }

        .header { position: fixed; top: 0; width: 100%; height: 60px; display: flex; justify-content: space-between; align-items: center; padding: 0 15px; z-index: 100; }
        .menu-btn { font-size: 32px; cursor: pointer; color: var(--mc); text-shadow: 0 0 10px var(--sh); }
        
        /* –ë–û–ö–û–í–û–ï –ú–ï–ù–Æ (–ü–†–û–§–ò–õ–¨) */
        .side-panel { position: fixed; top: 0; left: -320px; width: 300px; height: 100%; background: var(--bg-menu); transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1); z-index: 500; padding: 20px; border-right: 2px solid var(--mc); box-shadow: 20px 0 50px #000; overflow-y: auto; text-align: left; }
        .side-panel.open { left: 0; }
        
        .profile-card { border: 2px solid var(--mc); padding: 15px; border-radius: 15px; margin: 40px 0 20px; text-align: center; background: rgba(255,215,0,0.05); }
        .menu-item { background: rgba(255,255,255,0.05); padding: 14px; border-radius: 12px; margin-bottom: 10px; cursor: pointer; border: 1px solid rgba(255,255,255,0.1); font-weight: bold; display: flex; align-items: center; gap: 10px; transition: 0.2s; }
        .menu-item:active { background: rgba(255,255,255,0.1); transform: scale(0.98); }
        .menu-label { font-size: 11px; opacity: 0.5; margin: 15px 0 5px 5px; letter-spacing: 1px; }

        /* –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ */
        .main { padding-top: 70px; height: 100%; overflow-y: auto; display: flex; flex-direction: column; align-items: center; padding-bottom: 40px; }
        .game-card { background: #050505; border: 2px solid var(--mc); border-radius: 30px; padding: 20px; box-shadow: 0 0 25px var(--sh); margin-bottom: 20px; width: 90%; max-width: 340px; position: relative; }
        
        /* –ö–û–õ–ï–°–û */
        .wheel-wrap { position: relative; width: 210px; height: 210px; margin: 10px auto 20px; }
        .wheel-body { width: 100%; height: 100%; border: 6px solid var(--mc); border-radius: 50%; position: relative; transition: transform 4s cubic-bezier(0.15, 0, 0.15, 1); background: #111; overflow: hidden; display: flex; align-items: center; justify-content: center; }
        .wheel-sector { position: absolute; width: 100%; text-align: center; top: 12px; transform-origin: 50% 93px; font-weight: 900; font-size: 15px; text-shadow: 0 0 5px #000; }
        .pointer { position: absolute; top: -25px; left: 50%; transform: translateX(-50%); color: #ff3333; font-size: 40px; z-index: 10; filter: drop-shadow(0 0 5px rgba(255,0,0,0.5)); }

        .play-btn { background: var(--mc); color: #000; border: none; padding: 16px; width: 100%; font-size: 18px; font-weight: 900; border-radius: 18px; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.4); }
        #msg { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background: var(--mc); color: #000; padding: 15px 35px; border-radius: 50px; font-weight: 900; display: none; z-index: 1000; box-shadow: 0 10px 30px #000; border: 2px solid #000; }
    </style>
</head>
<body>
    <div id="loading-screen"><div class="loader-box">GOLDEN BOT</div></div>
    <div id="msg"></div>

    <div class="header">
        <div class="menu-btn" onclick="toggleM()">‚ò∞</div>
        <div style="font-weight: 900; letter-spacing: 2px;">GOLDEN CASINO</div>
        <div style="width: 32px;"></div>
    </div>

    <div id="menu" class="side-panel">
        <div class="profile-card">
            <h2 id="user-name" style="margin:0; color:var(--mc);">–ò–≥—Ä–æ–∫</h2>
            <div style="font-size: 12px; opacity: 0.7; margin-top:5px;">ID: 5594021</div>
        </div>

        <div class="menu-label">–£–ü–†–ê–í–õ–ï–ù–ò–ï –°–ß–ï–¢–û–ú</div>
        <div class="menu-item" onclick="msg('–°–£–ú–ú–ê –û–¢ 100 UAH')">üí∞ –í–´–í–û–î –°–†–ï–î–°–¢–í</div>
        <div class="menu-item" onclick="msg('–ü–ï–†–ï–•–û–î –ö –û–ü–õ–ê–¢–ï...')">üíé –ü–û–ü–û–õ–ù–ï–ù–ò–ï</div>
        <div class="menu-item" onclick="changeCur()">üîÑ –°–ú–ï–ù–ò–¢–¨ –í–ê–õ–Æ–¢–£ (<span id="cur-now">UAH</span>)</div>

        <div class="menu-label">–ù–ê–°–¢–†–û–ô–ö–ò –î–ò–ó–ê–ô–ù–ê</div>
        <div style="display: flex; gap: 10px; margin-bottom: 20px;">
            <div onclick="setT('#ffd700')" style="background:#ffd700; width:40px; height:40px; border-radius:10px; border:2px solid #fff;"></div>
            <div onclick="setT('#ff3333')" style="background:#ff3333; width:40px; height:40px; border-radius:10px;"></div>
            <div onclick="setT('#00ccff')" style="background:#00ccff; width:40px; height:40px; border-radius:10px;"></div>
        </div>

        <div class="menu-label">–ü–û–ú–û–©–¨</div>
        <div class="menu-item" onclick="msg('–û–¢–í–ï–¢ –í –¢–ï–ß–ï–ù–ò–ï 5 –ú–ò–ù')">üéß –¢–ï–•. –ü–û–î–î–ï–†–ñ–ö–ê</div>
        
        <button onclick="toggleM()" class="play-btn" style="margin-top:30px; font-size:14px; padding:12px;">–ó–ê–ö–†–´–¢–¨ –ú–ï–ù–Æ</button>
    </div>

    <div class="main">
        <div onclick="adm()">
            <div style="font-size:12px; opacity:0.5; letter-spacing:4px;">–í–ê–® –ë–ê–õ–ê–ù–°</div>
            <div style="font-size:52px; font-weight:900; margin-bottom:20px; text-shadow: 0 0 20px var(--sh);">
                <span id="bal">10.00</span> <span id="valute" style="font-size:22px;">UAH</span>
            </div>
        </div>

        <div class="game-card">
            <h3 style="margin-top:0; letter-spacing:1px;">üé∞ –ë–ê–ù–ö–û–ú–ê–¢</h3>
            <div id="slot-res" style="font-size: 55px; margin: 15px 0;">üé∞üé∞üé∞</div>
            <button class="play-btn" onclick="playSlot()">–ò–ì–†–ê–¢–¨ (2 <span class="v-sm">UAH</span>)</button>
        </div>

        <div class="game-card">
            <h3 style="margin-top:0; letter-spacing:1px;">üé° –ö–û–õ–ï–°–û –£–î–ê–ß–ò</h3>
            <div class="wheel-wrap">
                <div class="pointer">‚ñº</div>
                <div id="wheel-obj" class="wheel-body">
                    <div class="wheel-sector" style="transform: rotate(0deg);">WIN x2</div>
                    <div class="wheel-sector" style="transform: rotate(90deg);">–ü–£–°–¢–û</div>
                    <div class="wheel-sector" style="transform: rotate(180deg);">–ü–£–°–¢–û</div>
                    <div class="wheel-sector" style="transform: rotate(270deg);">–ü–£–°–¢–û</div>
                </div>
            </div>
            <button class="play-btn" id="w-btn" onclick="playWheel()">–ö–†–£–¢–ò–¢–¨ (5 <span class="v-sm">UAH</span>)</button>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        let bal = localStorage.getItem('gb_bal') ? parseFloat(localStorage.getItem('gb_bal')) : 10.00;
        let cur = "UAH";
        let aC = 0;

        function update() { 
            document.getElementById('bal').innerText = bal.toFixed(2); 
            localStorage.setItem('gb_bal', bal);
            document.querySelectorAll('.v-sm').forEach(e => e.innerText = cur);
            document.getElementById('valute').innerText = cur;
        }

        function msg(t) { 
            let m = document.getElementById('msg'); 
            m.innerText = t; m.style.display = 'block'; 
            setTimeout(()=>m.style.display='none', 2500); 
        }

        window.onload = () => { 
            setTimeout(() => document.getElementById('loading-screen').classList.add('fade-out'), 2000);
            document.getElementById('user-name').innerText = tg.initDataUnsafe.user?.first_name || "–ò–≥—Ä–æ–∫";
        };

        function toggleM() { document.getElementById('menu').classList.toggle('open'); }
        function setT(c) { document.documentElement.style.setProperty('--mc', c); }
        
        function changeCur() {
            if(cur === "UAH") { cur = "USD"; bal = bal / 40; }
            else { cur = "UAH"; bal = bal * 40; }
            document.getElementById('cur-now').innerText = cur;
            update();
            msg("–í–ê–õ–Æ–¢–ê –ò–ó–ú–ï–ù–ï–ù–ê");
        }

        function adm() { aC++; if(aC>=5) { bal += (cur === "UAH" ? 100 : 5); update(); msg("–ë–û–ù–£–° –ê–î–ú–ò–ù–ê!"); aC=0; } }

        function playSlot() {
            let price = (cur === "UAH" ? 2 : 0.05);
            if(bal < price) return msg("–ù–ï–î–û–°–¢–ê–¢–û–ß–ù–û –°–†–ï–î–°–¢–í");
            bal -= price; update();
            let i = 0; const s = ['üíé','üí∞','7Ô∏è‚É£','üçí','üçÄ'];
            const t = setInterval(() => {
                document.getElementById('slot-res').innerText = [s[Math.floor(Math.random()*5)], s[Math.floor(Math.random()*5)], s[Math.floor(Math.random()*5)]].join('');
                if(++i >= 12) {
                    clearInterval(t);
                    if(Math.random() < 0.15) { 
                        let win = price * 5; bal += win; 
                        msg("–í–´–ò–ì–†–´–®: " + win.toFixed(2) + " " + cur); 
                    } else { msg("–í–´ –ü–†–û–ò–ì–†–ê–õ–ò"); }
                    update();
                }
            }, 100);
        }

        function playWheel() {
            let price = (cur === "UAH" ? 5 : 0.12);
            if(bal < price) return msg("–ù–ï–î–û–°–¢–ê–¢–û–ß–ù–û –°–†–ï–î–°–¢–í");
            let btn = document.getElementById('w-btn');
            if(btn.disabled) return;
            bal -= price; update(); btn.disabled = true;

            let w = document.getElementById('wheel-obj');
            let isWin = Math.random() < 0.25; // 25% –Ω–∞ –ø–æ–±–µ–¥—É
            let deg = isWin ? 3600 : (3600 + 90 + Math.floor(Math.random()*3)*90);
            
            w.style.transform = `rotate(${deg}deg)`;

            setTimeout(() => {
                w.style.transition = 'none';
                w.style.transform = `rotate(${deg % 360}deg)`;
                setTimeout(() => w.style.transition = 'transform 4s cubic-bezier(0.15, 0, 0.15, 1)', 50);
                
                if(isWin) { bal += (price * 2); msg("–ü–û–ë–ï–î–ê x2!"); }
                else { msg("–í–´ –ü–†–û–ò–ì–†–ê–õ–ò"); }
                update();
                btn.disabled = false;
            }, 4100);
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –¥–µ–Ω–µ–≥ –Ω–∞ —Ñ–æ–Ω–µ
        setInterval(() => {
            const p = document.createElement('div'); p.className = 'particle'; 
            p.innerText = (cur === "UAH" ? '‚Ç¥' : '$');
            p.style.left = Math.random()*100+'vw'; p.style.animationDuration = (Math.random()*3 + 2)+'s';
            document.body.appendChild(p); setTimeout(()=>p.remove(), 4000);
        }, 700);

        update(); tg.expand();
    </script>
</body>
</html>
