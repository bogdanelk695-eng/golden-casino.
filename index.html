<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --main-color: #ffd700; --shadow: rgba(255, 215, 0, 0.5); }
        body { background: #000; color: var(--main-color); text-align: center; font-family: 'Arial', sans-serif; margin: 0; overflow: hidden; height: 100vh; transition: 0.3s; }
        .coin { position: absolute; color: var(--main-color); font-size: 20px; user-select: none; z-index: -1; animation: fall linear infinite; }
        @keyframes fall { to { transform: translateY(100vh) rotate(360deg); } }
        
        #side-menu { position: fixed; top: 0; left: -260px; width: 220px; height: 100%; background: rgba(15, 15, 15, 0.98); border-right: 2px solid var(--main-color); transition: 0.4s; z-index: 100; padding: 20px; text-align: left; }
        #side-menu.active { left: 0; }
        .menu-toggle { font-size: 32px; position: fixed; top: 15px; left: 15px; cursor: pointer; z-index: 110; text-shadow: 0 0 10px var(--main-color); }

        /* –ö–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞ */
        .color-picker { display: flex; gap: 10px; margin: 15px 0; flex-wrap: wrap; }
        .color-dot { width: 30px; height: 30px; border-radius: 50%; border: 2px solid #fff; cursor: pointer; }

        .slot-box { display: inline-block; padding: 25px; border: 5px solid var(--main-color); border-radius: 30px; background: #000; box-shadow: 0 0 40px var(--shadow); transition: 0.3s; }
        .slots { font-size: 70px; margin: 25px 0; }
        .btn { background: var(--main-color); color: #000; border: none; padding: 15px; font-size: 18px; font-weight: 900; border-radius: 15px; cursor: pointer; width: 100%; margin: 10px 0; transition: 0.3s; }
        
        #win-effect { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.1); z-index: 200; justify-content: center; align-items: center; }
        .win-text { font-size: 60px; font-weight: 900; color: #fff; text-shadow: 0 0 30px var(--main-color); animation: bounce 0.5s infinite alternate; }
        @keyframes bounce { from { transform: scale(1); } to { transform: scale(1.2); } }
    </style>
</head>
<body>
    <div id="win-effect"><div class="win-text">WIN! üéâ</div></div>
    <div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>

    <div id="side-menu">
        <h3 id="user-name">–ò–≥—Ä–æ–∫</h3>
        <p>üí∞ –ë–∞–ª–∞–Ω—Å: <span id="menu-balance">100</span> G</p>
        <hr border="1" color="#333">
        <p>–í—ã–±–µ—Ä–∏ —Å—Ç–∏–ª—å:</p>
        <div class="color-picker">
            <div class="color-dot" style="background: #ffd700;" onclick="changeTheme('#ffd700', 'rgba(255, 215, 0, 0.5)')"></div>
            <div class="color-dot" style="background: #00ff00;" onclick="changeTheme('#00ff00', 'rgba(0, 255, 0, 0.5)')"></div>
            <div class="color-dot" style="background: #008cff;" onclick="changeTheme('#008cff', 'rgba(0, 140, 255, 0.5)')"></div>
            <div class="color-dot" style="background: #ff0000;" onclick="changeTheme('#ff0000', 'rgba(255, 0, 0, 0.5)')"></div>
        </div>
        <button class="btn" onclick="openPromo()">–ü–†–û–ú–û–ö–û–î</button>
        <button class="btn" onclick="withdraw()">–í–´–í–û–î</button>
        <button class="btn" onclick="toggleMenu()" style="background: #333; color: #fff;">–ù–ê–ó–ê–î</button>
    </div>

    <div style="padding-top: 80px;">
        <h1 id="main-title">GOLDEN CASINO</h1>
        <div class="slot-box">
            <div class="slots" id="display">üé∞üé∞üé∞</div>
            <button class="btn" id="spin-btn" onclick="spin()" style="font-size: 24px;">–ö–†–£–¢–ò–¢–¨</button>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        let balance = 100;
        document.getElementById('user-name').innerText = tg.initDataUnsafe.user ? tg.initDataUnsafe.user.first_name : "–ò–≥—Ä–æ–∫";

        function toggleMenu() { document.getElementById('side-menu').classList.toggle('active'); }
        
        function changeTheme(color, shadow) {
            document.documentElement.style.setProperty('--main-color', color);
            document.documentElement.style.setProperty('--shadow', shadow);
            tg.HapticFeedback.impactOccurred('medium');
        }

        function spin() {
            if (balance < 10) { tg.showAlert("–ú–∞–ª–æ –∑–æ–ª–æ—Ç–∞!"); return; }
            balance -= 10; updateUI();
            const btn = document.getElementById('spin-btn'); btn.disabled = true;
            let i = 0; const s = ['üíé', '7Ô∏è‚É£', 'üí∞', 'üçÄ', 'üëë'];
            const t = setInterval(() => {
                const r = [s[Math.floor(Math.random()*5)], s[Math.floor(Math.random()*5)], s[Math.floor(Math.random()*5)]];
                document.getElementById('display').innerText = r.join('');
                if (++i >= 10) {
                    clearInterval(t); btn.disabled = false;
                    if (r[0] === r[1] && r[1] === r[2]) { balance += 150; showWin(); updateUI(); }
                }
            }, 100);
        }

        function showWin() { 
            document.getElementById('win-effect').style.display = 'flex'; 
            tg.HapticFeedback.notificationOccurred('success');
            setTimeout(() => { document.getElementById('win-effect').style.display = 'none'; }, 2000); 
        }

        function updateUI() { document.getElementById('menu-balance').innerText = balance; }
        function openPromo() { /* —Å—Ç–∞—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è */ }
        function withdraw() { tg.showAlert("–í—ã–≤–æ–¥ –æ—Ç 1000 G"); }
        setInterval(() => {
            const c = document.createElement('div'); c.className = 'coin'; c.innerText = 'G';
            c.style.left = Math.random() * 100 + 'vw'; c.style.animationDuration = '3s';
            document.body.appendChild(c); setTimeout(() => c.remove(), 3000);
        }, 300);
        updateUI();
    </script>
</body>
</html>
