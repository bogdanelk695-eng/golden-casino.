<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --mc: #ffd700; --sh: rgba(255, 215, 0, 0.4); }
        body { background: #000; color: var(--mc); text-align: center; font-family: 'Segoe UI', sans-serif; margin: 0; overflow: hidden; height: 100vh; display: flex; flex-direction: column; justify-content: space-between; }
        
        .particle { position: absolute; top: -20px; user-select: none; z-index: -1; animation: fall linear infinite; font-size: 22px; }
        @keyframes fall { to { transform: translateY(105vh) rotate(360deg); } }

        /* LOADING SCREEN */
        #loading-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; display: flex; flex-direction: column; justify-content: center; align-items: center;
            color: var(--mc); font-size: 3em; font-weight: bold; z-index: 10000;
            transition: opacity 1s ease-out;
        }
        #loading-screen.fade-out { opacity: 0; pointer-events: none; }
        #loading-text {
            filter: drop-shadow(0 0 10px var(--sh));
        }
        .loading-particle { position: absolute; user-select: none; animation: spinAndFall linear infinite; font-size: 30px; }
        @keyframes spinAndFall {
            0% { transform: translate(-50%, -50%) rotate(0deg); opacity: 1; }
            100% { transform: translate(50vw, 100vh) rotate(720deg); opacity: 0; }
        }

        .header { position: fixed; top: 0; width: 100%; height: 60px; display: flex; justify-content: space-between; align-items: center; padding: 0 15px; z-index: 100; box-sizing: border-box; }
        .menu-btn, .sett-btn { font-size: 30px; cursor: pointer; color: var(--mc); filter: drop-shadow(0 0 5px var(--sh)); }
        
        .side-panel { position: fixed; top: 0; width: 280px; height: 100%; background: #0f0f0f; transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1); z-index: 200; padding: 20px; text-align: left; box-shadow: 0 0 25px #000; box-sizing: border-box; }
        #menu { left: -300px; border-right: 2px solid var(--mc); }
        #sett { right: -300px; border-left: 2px solid var(--mc); }
        .open#menu { left: 0; }
        .open#sett { right: 0; }

        .item { background: #1a1a1a; padding: 14px; border-radius: 12px; margin-bottom: 10px; cursor: pointer; border: 1px solid #333; font-weight: bold; }
        .sub-box { display: none; padding-left: 15px; margin-bottom: 10px; border-left: 2px solid #333; }
        .sub-btn { padding: 12px; color: #ccc; font-size: 14px; cursor: pointer; border-bottom: 1px solid #222; }

        .main { padding-top: 70px; flex-grow: 1; display: flex; flex-direction: column; justify-content: center; }
        .slot-machine { background: #0a0a0a; border: 3px solid var(--mc); border-radius: 35px; padding: 25px; display: inline-block; box-shadow: 0 0 40px var(--sh); margin: 0 auto; }
        .slots { font-size: 60px; margin: 15px 0; min-height: 80px; }
        
        .bet-input { background: #111; border: 2px solid var(--mc); color: #fff; padding: 12px; border-radius: 10px; width: 140px; font-size: 18px; text-align: center; margin: 10px 0; outline: none; }
        .b-btn { background: #111; border: 1px solid var(--mc); color: var(--mc); padding: 8px 18px; border-radius: 10px; font-weight: bold; cursor: pointer; }
        .b-btn.active { background: var(--mc); color: #000; box-shadow: 0 0 15px var(--sh); }
        .play-btn { background: var(--mc); color: #000; border: none; padding: 18px 60px; font-size: 24px; font-weight: 900; border-radius: 20px; cursor: pointer; margin-top: 15px; text-transform: uppercase; }

        /* MESSAGE AT BOTTOM */
        #msg { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: var(--mc); color: #000; padding: 10px 20px; border-radius: 25px; font-weight: bold; display: none; z-index: 1000; border: 1px solid #fff; max-width: 90%; font-size: 13px; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
        .color-dot { width: 40px; height: 40px; border-radius: 50%; border: 2px solid #fff; cursor: pointer; }
    </style>
</head>
<body>
    <div id="loading-screen">
        <div id="loading-text">Golden Bot</div>
    </div>

    <div id="msg"></div>
    <div class="header">
        <div class="menu-btn" onclick="toggleP('menu')">‚ò∞</div>
        <div class="sett-btn" onclick="toggleP('sett')">‚öôÔ∏è</div>
    </div>

    <div id="menu" class="side-panel">
        <h2 id="name-tag" style="margin-top:40px; color:#fff;">–ò–≥—Ä–æ–∫</h2>
        
        <div class="item" onclick="showSub('p-items')">üë§ –ü–†–û–§–ò–õ–¨</div>
        <div id="p-items" class="sub-box">
            <div class="sub-btn" onclick="showSub('dep-items')">üí≥ –ü–û–ü–û–õ–ù–ò–¢–¨</div>
            <div id="dep-items" class="sub-box">
                <div class="sub-btn" onclick="msg('–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ UA –ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ')">üá∫üá¶ –ì—Ä–∏–≤–Ω—ã (UA)</div>
                <div class="sub-btn" onclick="msg('–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ RU –ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ')">üá∑üá∫ –†—É–±–ª–∏ (RU)</div>
                <div class="sub-btn" onclick="showCrypto()">üíé –ö—Ä–∏–ø—Ç–∞ (TON)</div>
            </div>
            <div class="sub-btn" onclick="withdraw()">üí∞ –í–´–í–û–î (–æ—Ç 100)</div>
            <div class="sub-btn" onclick="showSub('v-items')">üí± –í–ê–õ–Æ–¢–ê</div>
            <div id="v-items" class="sub-box">
                <div class="sub-btn" onclick="setV('RUB')">‚ÇΩ RUB</div>
                <div class="sub-btn" onclick="setV('UAH')">‚Ç¥ UAH</div>
                <div class="sub-btn" onclick="setV('TON')">üíé TON</div>
            </div>
            <div class="sub-btn" onclick="promo()">üéÅ –ü–†–û–ú–û–ö–û–î</div>
        </div>

        <div class="item" onclick="showSub('eff-items')">‚ú® –¶–í–ï–¢–ê –ò –≠–§–§–ï–ö–¢–´</div>
        <div id="eff-items" class="sub-box">
            <div style="display:grid; grid-template-columns: repeat(4, 1fr); gap:10px; padding:10px 0;">
                <div onclick="setT('#ffd700', 'üí∞')" class="color-dot" style="background:#ffd700;"></div>
                <div onclick="setT('#ff3333', 'üíé')" class="color-dot" style="background:#ff3333;"></div>
                <div onclick="setT('#a020f0', 'üå∏')" class="color-dot" style="background:#a020f0;"></div>
                <div onclick="setT('#ffffff', '‚ùÑÔ∏è')" class="color-dot" style="background:#ffffff;"></div>
            </div>
        </div>

        <button onclick="toggleP('menu')" class="item" style="margin-top:40px; width:100%; background:#333; color:#fff; border:none;">‚¨ÖÔ∏è –ù–ê–ó–ê–î</button>
    </div>

    <div id="sett" class="side-panel">
        <h2 style="margin-top:40px;">–ù–ê–°–¢–†–û–ô–ö–ò</h2>
        <div class="item">üá∑üá∫ –†–£–°–°–ö–ò–ô</div>
        <button onclick="toggleP('sett')" class="item" style="margin-top:40px; width:100%; background:#333; color:#fff; border:none;">–û–ö</button>
    </div>

    <div class="main">
        <div class="bal-box">
            <div style="font-size:14px; opacity:0.7;">–ë–ê–õ–ê–ù–°</div>
            <div style="font-size:36px; font-weight:900;"><span id="bal">15.00</span> <span id="v-sym">UAH</span></div>
        </div>
        <div class="slot-machine">
            <div class="slots" id="scr">üé∞üé∞üé∞</div>
            <div style="font-size:11px; opacity:0.6;">–í–ê–®–ê –°–¢–ê–í–ö–ê:</div>
            <input type="number" id="bet-val" class="bet-input" value="5">
            <div style="font-size:11px; margin-top:10px; opacity:0.6;">–†–ò–°–ö:</div>
            <div style="display:flex; justify-content:center; gap:10px; margin:10px 0;">
                <div class="b-btn active" onclick="setX(1, this)">X1</div>
                <div class="b-btn" onclick="setX(2, this)">X2</div>
                <div class="b-btn" onclick="setX(3, this)">X3</div>
            </div>
            <button class="play-btn" id="p-btn" onclick="play()">–ò–ì–†–ê–¢–¨</button>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        let bal = 15; 
        let curX = 1; let curV = 'UAH';
        let currentEffect = 'üí∞'; 
        const rates = { 'UAH': 1, 'RUB': 2.5, 'TON': 0.005 };
        const loadingParticles = ['üí∞', 'üíé', 'üå∏', '‚ùÑÔ∏è', '‚≠ê', '‚ú®']; // –≠—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏

        document.getElementById('name-tag').innerText = tg.initDataUnsafe.user ? tg.initDataUnsafe.user.first_name : "–ò–≥—Ä–æ–∫";

        // ---- –ó–ê–°–¢–ê–í–ö–ê –ó–ê–ì–†–£–ó–ö–ò ----
        window.addEventListener('load', () => {
            const loadingScreen = document.getElementById('loading-screen');
            setTimeout(() => {
                loadingScreen.classList.add('fade-out');
                setTimeout(() => loadingScreen.remove(), 1000); // –£–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            }, 3000); // –ó–∞—Å—Ç–∞–≤–∫–∞ 3 —Å–µ–∫—É–Ω–¥—ã

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –¥–ª—è –∑–∞—Å—Ç–∞–≤–∫–∏
            for (let i = 0; i < 50; i++) {
                const lp = document.createElement('div');
                lp.className = 'loading-particle';
                lp.innerText = loadingParticles[Math.floor(Math.random() * loadingParticles.length)];
                lp.style.left = Math.random() * 100 + 'vw';
                lp.style.top = Math.random() * 100 + 'vh';
                lp.style.animationDuration = (Math.random() * 3 + 2) + 's';
                lp.style.animationDelay = (Math.random() * 2) + 's';
                loadingScreen.appendChild(lp);
            }
        });
        // -----------------------------

        function toggleP(id) { 
            let other = (id === 'menu') ? 'sett' : 'menu';
            document.getElementById(other).classList.remove('open');
            document.getElementById(id).classList.toggle('open'); 
        }

        function showSub(id) { 
            let e = document.getElementById(id); 
            e.style.display = (e.style.display === 'none' || e.style.display === '') ? 'block' : 'none'; 
        }

        function setT(c, eff) { 
            document.documentElement.style.setProperty('--mc', c); 
            document.documentElement.style.setProperty('--sh', c+'66'); 
            currentEffect = eff;
            msg("–°—Ç–∏–ª—å –∏–∑–º–µ–Ω–µ–Ω!");
        }

        function setV(newV) {
            bal = (bal / rates[curV]) * rates[newV];
            curV = newV;
            document.getElementById('v-sym').innerText = curV;
            update();
        }

        function showCrypto() {
            alert("–ö–æ—à–µ–ª–µ–∫ TON –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è:\n\nUQBXsDXoFMFD3752_K-87KOPztj5KbTrQq9irD32bUEAMQ3L\n\n–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∏—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.");
        }

        function msg(t) { 
            let m = document.getElementById('msg'); 
            m.innerText = t; m.style.display = 'block'; 
            setTimeout(()=>m.style.display='none', 3000); // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–∏—Å—è—Ç 3 —Å–µ–∫—É–Ω–¥—ã
        }

        function play() {
            let bet = parseFloat(document.getElementById('bet-val').value);
            if (isNaN(bet) || bet <= 0) { msg("–£–ö–ê–ñ–ò–¢–ï –°–¢–ê–í–ö–£!"); return; }
            if (bal < bet) { msg("–ù–ï–î–û–°–¢–ê–¢–û–ß–ù–û –°–†–ï–î–°–¢–í!"); return; }
            
            bal -= bet; update();
            let btn = document.getElementById('p-btn'); btn.disabled = true;
            let i = 0; const s = ['üíé', 'üí∞', '7Ô∏è‚É£', 'üçí', 'üçÄ'];
            const t = setInterval(() => {
                const r = [s[Math.floor(Math.random()*5)], s[Math.floor(Math.random()*5)], s[Math.floor(Math.random()*5)]];
                document.getElementById('scr').innerText = r.join('');
                if (++i >= 12) {
                    clearInterval(t); btn.disabled = false;
                    let limit = 100 * rates[curV]; 
                    let winChance = (bet < limit) ? 0.30 : 0.15;
                    if(curX === 2) winChance *= 0.5;
                    if(curX === 3) winChance *= 0.3;

                    if (Math.random() < winChance) {
                        let w = s[Math.floor(Math.random()*5)];
                        document.getElementById('scr').innerText = w+w+w;
                        let prize = bet * (3 + curX);
                        bal += prize;
                        msg("–í–´–ò–ì–†–´–®: +" + prize.toFixed(2) + " " + curV);
                        tg.HapticFeedback.notificationOccurred('success');
                    }
                    update();
                }
            }, 90);
        }

        function update() { document.getElementById('bal').innerText = bal.toFixed(2); }
        
        function withdraw() { 
            let min = 100 * rates[curV];
            if (bal < min) { msg("–ú–ò–ù–ò–ú–£–ú –ù–ê –í–´–í–û–î: " + min.toFixed(0) + " " + curV); return; }
            let wallet = prompt("–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã –∏–ª–∏ –∫–æ—à–µ–ª—å–∫–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞:");
            if(wallet) {
                alert("–ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ (" + wallet + ") –ø—Ä–∏–Ω—è—Ç–∞. –û–∂–∏–¥–∞–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏.");
            }
        }

        function promo() { 
            let p = prompt("–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥:"); 
            if(!p) return;
            let c = p.toUpperCase();
            if(c === 'JACKPOT') { bal += (1000 * rates[curV]); update(); msg("JACKPOT! +1000 " + curV); }
            else if(c === 'TON') { bal += (500 * rates[curV]); update(); msg("–ë–æ–Ω—É—Å +500 " + curV); }
            else { msg("–ù–ï–í–ï–†–ù–´–ô –ö–û–î"); }
        }

        // –ñ–ò–í–´–ï –≠–§–§–ï–ö–¢–´ –¥–ª—è –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
        setInterval(() => {
            const p = document.createElement('div'); p.className = 'particle';
            p.innerText = currentEffect; 
            p.style.left = Math.random()*100+'vw';
            p.style.animationDuration = (Math.random()*2+3)+'s';
            document.body.appendChild(p); setTimeout(()=>p.remove(), 5000);
        }, 400);

        update(); tg.expand();
    </script>
</body>
            </html>
            
